# Ollama Log Exporter

–¢—Ä–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–æ–≥–∞–º–∏ Ollama:
1. **Ollama Log Parser** - —ç—Ç–∞–ª–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ª–æ–≥–æ–≤ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –æ—Ç—á–µ—Ç–∞–º–∏
2. **InfluxDB Integration** - —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è Grafana
3. **InfluxDB Report Generator** - –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤ –∏–∑ InfluxDB

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

### üîç Parser (parser.py)
**–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ä–∞–±–æ—Ç—ã Ollama.

–°–æ–∑–¥–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown –¥–ª—è:
- üìä –ê–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π
- üîß –û—Ç—Ä–∞–±–æ—Ç–∫–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- üêõ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º –≤ —Ä–∞–±–æ—Ç–µ Ollama
- üìà –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üîó InfluxDB Integration
**–û—Ç–¥–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** –¥–ª—è –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –≤ InfluxDB –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ Grafana.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–ª—è:
- ‚ö° –†–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- üìä –°–æ–∑–¥–∞–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–æ–≤ –≤ Grafana
- üîÑ –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Ollama Logs   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ    Parser    ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Reports    ‚îÇ
‚îÇ  (journalctl)   ‚îÇ    ‚îÇ (parser.py)  ‚îÇ    ‚îÇ (Markdown)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Ollama Logs   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  InfluxDB   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  InfluxDB   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Grafana   ‚îÇ
‚îÇ  (journalctl)   ‚îÇ    ‚îÇ Integration ‚îÇ    ‚îÇ  Database   ‚îÇ    ‚îÇ Dashboards  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ ollama_log_parser/                  # üîç –≠—Ç–∞–ª–æ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –ª–æ–≥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ parser.py                      # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä (937 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ run_parser.sh                  # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ reports/                       # –û—Ç—á–µ—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ report.md                  # –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–µ—Å—Å–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ollama_log_dump.txt       # –ü–æ–ª–Ω—ã–π –¥–∞–º–ø –ª–æ–≥–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analysis_filtered_log.txt # –û—á–∏—â–µ–Ω–Ω—ã–µ –ª–æ–≥–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ startup_info.txt          # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—É—Å–∫–µ
‚îÇ   ‚îî‚îÄ‚îÄ README.md                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞
‚îú‚îÄ‚îÄ influxdb_report_generator/          # üöÄ –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ setup_and_run.sh               # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ report_generator.py            # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–∑ InfluxDB
‚îÇ   ‚îú‚îÄ‚îÄ config.json                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è InfluxDB
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt               # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ venv/                          # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ reports/                       # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
‚îú‚îÄ‚îÄ ollama_influxdb_integration/        # üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å InfluxDB
‚îÇ   ‚îú‚îÄ‚îÄ main.py                        # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ influxdb_writer.py             # –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –≤ InfluxDB
‚îÇ   ‚îú‚îÄ‚îÄ config.json                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ install_service.sh             # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–∫ systemd —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îî‚îÄ‚îÄ dashboards/                    # üìà –î–∞—à–±–æ—Ä–¥—ã Grafana
‚îÇ       ‚îú‚îÄ‚îÄ ollama_gantt_simple.json   # –î–∏–∞–≥—Ä–∞–º–º–∞ –ì–∞–Ω—Ç–∞
‚îÇ       ‚îî‚îÄ‚îÄ README.md                  # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–∞—à–±–æ—Ä–¥–∞–º
‚îî‚îÄ‚îÄ README.md                          # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üîç –≠—Ç–∞–ª–æ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –ª–æ–≥–æ–≤

```bash
cd ollama_log_parser
./run_parser.sh

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ reports/report.md - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π
# ‚úÖ reports/ollama_log_dump.txt - –ø–æ–ª–Ω—ã–π –¥–∞–º–ø –ª–æ–≥–æ–≤
# ‚úÖ reports/analysis_filtered_log.txt - –æ—á–∏—â–µ–Ω–Ω—ã–µ –ª–æ–≥–∏
# ‚úÖ reports/startup_info.txt - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—É—Å–∫–µ
```

### üöÄ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤ –∏–∑ InfluxDB

```bash
cd influxdb_report_generator
./setup_and_run.sh

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ InfluxDB
# ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –≤ reports/
```

### üîó –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ InfluxDB Integration

```bash
cd ollama_influxdb_integration

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ InfluxDB
python3 main.py --test

# –û–¥–∏–Ω —Ü–∏–∫–ª —Å–±–æ—Ä–∞ –∏ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö
python3 main.py --once

# –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥)
python3 main.py
```

### üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å

```bash
cd ollama_influxdb_integration
sudo ./install_service.sh

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º
sudo systemctl start ollama-influxdb-integration
sudo systemctl status ollama-influxdb-integration
sudo journalctl -u ollama-influxdb-integration -f
```

## üìä –ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–∞—Ä—Å–µ—Ä

### üîç –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Å—Å–∏—è—Ö:

- **–ú–æ–¥–µ–ª–∏**: –Ω–∞–∑–≤–∞–Ω–∏–µ, SHA256, —Ä–∞–∑–º–µ—Ä, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–†–µ—Å—É—Ä—Å—ã**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VRAM, GPU layers, threads
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏, latency –∑–∞–ø—Ä–æ—Å–æ–≤
- **API –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –≤—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è**: –∑–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

### üìà –ü—Ä–∏–º–µ—Ä –æ—Ç—á–µ—Ç–∞:

```markdown
## –°–µ—Å—Å–∏—è 1: gemma3:12b

*   **–í—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞ —Å–µ—Å—Å–∏–∏:** 2025-07-20T14:40:09+10:00
*   **PID –ø—Ä–æ—Ü–µ—Å—Å–∞ Ollama:** 3061
*   **–ú–æ–¥–µ–ª—å:** gemma3:12b
*   **SHA256:** adca500fad9b54c565ae672184e0c9eb690eb6014ba63f8ec13849d4f73a32d3
*   **GPU layers:** 48
*   **CTX size:** 2048
*   **–†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏:** 7 GB

### –°–≤–æ–±–æ–¥–Ω–∞—è –ø–∞–º—è—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ:
*   **VRAM —Å–≤–æ–±–æ–¥–Ω–æ –Ω–∞ GPU:** [10.6 GiB] (—Ç—Ä–µ–±—É–µ—Ç—Å—è 1.8 GiB)

### –û–±—Å–ª—É–∂–µ–Ω–Ω—ã–µ API-–∑–∞–ø—Ä–æ—Å—ã:
| –í—Ä–µ–º—è | –°—Ç–∞—Ç—É—Å | –ó–∞–¥–µ—Ä–∂–∫–∞ | IP | –ú–µ—Ç–æ–¥ | –ü—É—Ç—å |
|---|---|---|---|---|---|
| 14:40:22 | 200 | 13.524s | 172.17.0.3 | POST | /api/chat |
| 14:40:28 | 200 | 5.535s | 172.17.0.3 | POST | /api/chat |
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è InfluxDB

### –°–µ—Ä–≤–µ—Ä: 192.168.237.198

```json
{
  "influxdb": {
    "url": "http://192.168.237.198:8086",
    "token": "–≤–∞—à-—Ç–æ–∫–µ–Ω-influxdb",
    "org": "ollama-monitoring",
    "bucket": "ollama-logs"
  },
  "integration": {
    "interval_seconds": 10,
    "batch_size": 1000
  }
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ InfluxDB:

#### Measurements:
- **`ollama_sessions`** - —Å–µ—Å—Å–∏–∏ –º–æ–¥–µ–ª–µ–π
- **`ollama_requests`** - API –∑–∞–ø—Ä–æ—Å—ã  
- **`ollama_system_events`** - —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

#### –¢–µ–≥–∏:
- `model`, `session_id`, `pid`, `gpu_library`
- `method`, `endpoint`, `status`, `client_ip`

#### –ü–æ–ª—è:
- `latency_seconds`, `vram_available_bytes`, `loading_duration_seconds`
- `ctx_size`, `batch_size`, `gpu_layers`, `threads`

## üìà Grafana Dashboards

### –î–∏–∞–≥—Ä–∞–º–º–∞ –ì–∞–Ω—Ç–∞ –º–æ–¥–µ–ª–µ–π

–ò–º–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–∞:
1. Grafana ‚Üí Dashboards ‚Üí Import
2. Upload `ollama_influxdb_integration/dashboards/ollama_gantt_simple.json`
3. –í—ã–±—Ä–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö "Ollama InfluxDB"

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- üü† –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π (–æ—Ä–∞–Ω–∂–µ–≤—ã–µ –ø–æ–ª–æ—Å—ã)
- üü¢ –ú–æ–º–µ–Ω—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (–∑–µ–ª–µ–Ω—ã–µ —Ç–æ—á–∫–∏)
- ‚è±Ô∏è –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π
- üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏

## üõ†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã –¥–∞–Ω–Ω—ã—Ö –≤ InfluxDB

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ø–∞–ª–∏ –≤ InfluxDB –±–µ–∑ –ø–æ—Ç–µ—Ä—å:

```bash
# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ InfluxDB
python3 check_influxdb_data.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ measurements, –ø–æ–ª–µ–π, —Ç–µ–≥–æ–≤
# ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–µ—Å—Å–∏–π –∏ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –æ—Ç—á–µ—Ç–æ–º –ø–∞—Ä—Å–µ—Ä–∞
# ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Flux –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
# üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ influxdb_reconstruction_queries.flux
```

### üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –∏–∑ InfluxDB:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –ø—Ä—è–º–æ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python3 generate_report_from_influxdb.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# üìÑ reports/influxdb_report_TIMESTAMP.md - –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –∏–∑ InfluxDB
# üìä –ò–¥–µ–Ω—Ç–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –æ—Ç—á–µ—Ç–æ–º –ø–∞—Ä—Å–µ—Ä–∞
# ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –±–µ–∑ –ø–æ—Ç–µ—Ä—å
```

### üîß –û—Ç–ª–∞–¥–∫–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞:

#### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞:
```bash
# –ó–∞–ø—É—Å–∫ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
sudo python3 parser.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—á–µ—Ç–∞
cat reports/report.md | head -50
```

#### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ InfluxDB:
```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
python3 ollama_influxdb_integration/main.py --test

# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
python3 check_influxdb_data.py

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
diff reports/report.md reports/influxdb_report_*.md
```

#### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Grafana:
- –û—Ç–∫—Ä–æ–π—Ç–µ http://192.168.237.198:3000
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö "Ollama InfluxDB"
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–∞—à–±–æ—Ä–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

## üîç –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü–∞—Ä—Å–µ—Ä –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –ª–æ–≥–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ Ollama
sudo systemctl status ollama.service
sudo journalctl -u ollama.service --since "1 hour ago"
```

### InfluxDB –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
curl http://192.168.237.198:8086/health
```

### –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Grafana:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω (—É–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 24 —á–∞—Å–æ–≤)
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç: `systemctl status ollama-influxdb-integration`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: `journalctl -u ollama-influxdb-integration -f`

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.8+**
- **–ü—Ä–∞–≤–∞ sudo** (–¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ journalctl)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: `requests`, `python-dateutil`
- **InfluxDB 2.x** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 192.168.237.198
- **Grafana** –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

## üéØ Workflow –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üîç –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤:
1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–µ—Ä** ‚Üí –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
2. **–ò–∑—É—á–∏—Ç—å –æ—Ç—á–µ—Ç** ‚Üí –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
3. **–û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã** ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### üîó –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å InfluxDB Integration** ‚Üí –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é** ‚Üí –Ω–∞—á–∞—Ç—å —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Grafana** ‚Üí —Å–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –õ–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞ (–∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∑–∞–ø—É—Å–∫)
sudo python3 parser.py 2>&1 | tee parser.log

# –õ–æ–≥–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
journalctl -u ollama-influxdb-integration -f

# –õ–æ–≥–∏ InfluxDB
sudo journalctl -u influxdb -f
```

---

**Parser**: –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ Ollama –∏ –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

**InfluxDB Integration**: –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ Grafana.